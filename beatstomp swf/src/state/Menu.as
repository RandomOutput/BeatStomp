package state 
{
  import flash.display.Bitmap;
  import flash.geom.Matrix;
  import flash.ui.*;
  
  public class Menu extends Playfield 
  {   
    private var songs:Array= 
    [ 
      [ "Bass Jump", Assets.bass_jump, 130,
        [
          8, [0, 2], 2, [3, 1], 2.5, [2, 0], 1.5, [3, 1], 2, [3, 1], 
          2, [2, 0], 2.5, [3, 1], 1.5, [2, 0], 2, [3], 2, [2, 1, 0], 
          2.5, [2], 1.5, [3, 1, 0], 2, [1], 2, [3, 2, 0], 2.5, [0], 
          1.5, [3, 2, 1], 4, [4], 4, [4], 2, [1, 0], 1.5, [2], 
          0.5, [3], 2.5, [1, 0], 1, [2], 0.5, [3], 4, [4], 
          4, [4], 2, [3, 2], 1.5, [1], 0.5, [0], 2.5, [3, 2], 
          1, [1], 0.5, [0], 2, [3], 2, [2, 1, 0], 2.5, [2], 
          1.5, [3, 1, 0], 2, [1], 2, [3, 2, 0], 2.5, [0], 1.5, [3, 2, 1], 
          2, [4], 4, [0], 0.333333, [1], 0.333333, [2], 0.333333, [3], 
          3, [2], 0.333333, [3], 0.333333, [0], 0.333333, [1], 3, [1], 
          0.333333, [2], 0.333333, [3], 0.333333, [0], 3, [4], 4, [3], 
          0.333333, [0], 0.333333, [1], 0.333333, [2], 3, [0], 0.333333, [1], 
          0.333333, [2], 0.333333, [3], 3, [2], 0.333333, [3], 0.333333, [0], 
          0.333333, [1], 5, [4], 2, [4], 2, [4], 2, [4], 
          2, [4], 2, [4], 2, [4], 2, [4], 6, [4], 
          2, [4], 4, [3, 0], 1, [2, 1], 1, [3, 0], 1, [2, 1], 
          1, [3, 0], 1, [2, 1], 1, [3, 0], 1, [2, 1], 3, [4], 
          2, [4], 8, [4], 6, [4], 2, [4], 2, [4], 
          2, [4], 2, [4], 2, [4], 4, [4, 2], 1, [3, 1], 
          1, [4, 2], 1, [3, 1], 3, [4], 2, [4], 4, [2, 1], 
          1, [3, 0], 1, [2, 1], 1, [3, 0], 1, [2, 1], 1, [3, 0], 
          1, [2, 1], 1, [3, 0], 3, [4], 2, [4], 4, [4]
        ]
      ],
      [ "The Mancer's Dilemma", Assets.tmd, 130,
        [
          16, [0], 0.5, [1], 0.5, [2], 0.5, [3, 0], 0.5, [1], 1, [3, 0], 
          0.5, [2], 0.5, [1], 1, [2], 0.5, [3], 0.5, [1, 0], 
          2, [2], 0.5, [3], 0.5, [0], 0.5, [2, 1], 0.5, [3], 
          1, [2, 1], 0.5, [0], 0.5, [3], 1, [0], 0.5, [1], 
          0.5, [3, 2], 2, [4], 1, [3], 0.5, [2, 0], 0.5, [1], 
          1, [2], 0.5, [3, 1], 0.5, [0], 1.5, [1], 0.5, [0], 
          0.5, [3], 0.5, [2], 0.5, [1], 0.5, [3], 1, [1], 
          0.5, [2, 0], 0.5, [3], 1, [0], 0.5, [3, 1], 0.5, [2], 
          1.5, [3], 0.5, [2], 0.5, [1], 0.5, [0], 0.5, [3], 
          0.5, [1], 2, [0], 0.75, [2], 0.25, [3], 5, [2], 
          2, [3], 0.75, [0], 0.25, [1], 5, [4], 1, [2], 
          0.5, [3, 0], 0.5, [1], 1, [3, 0], 0.5, [2], 0.5, [1], 
          1, [2], 0.5, [3], 0.5, [1, 0], 2, [2], 0.5, [3], 
          0.5, [0], 0.5, [2, 1], 0.5, [3], 1, [2, 1], 0.5, [0], 
          0.5, [3], 1, [0], 0.5, [1], 0.5, [3, 2], 2, [1], 
          2, [0], 0.75, [2], 0.25, [3], 5, [2], 2, [3], 
          0.75, [0], 0.25, [1], 5, [0], 0.5, [1], 0.5, [2], 
          0.5, [3, 0], 0.5, [1], 1, [3, 0], 0.5, [2], 0.5, [1], 
          1, [2], 0.5, [3], 0.5, [1, 0], 2, [2], 0.5, [3], 
          0.5, [0], 0.5, [2, 1], 0.5, [3], 1, [2, 1], 0.5, [0], 
          0.5, [3], 1, [0], 0.5, [1], 0.5, [3, 2], 2, [0], 
          0.5, [1], 0.5, [2], 0.5, [3, 0], 0.5, [1], 1, [3, 0], 
          0.5, [2], 0.5, [1], 1, [2], 0.5, [3], 0.5, [1, 0], 
          2, [2], 0.5, [3], 0.5, [0], 0.5, [2, 1], 0.5, [3], 
          1, [2, 1], 0.5, [0], 0.5, [3], 1, [0], 0.5, [1], 
          0.5, [3, 2], 2, [4], 1, [3], 0.5, [2, 0], 0.5, [1], 
          1, [2], 0.5, [3, 1], 0.5, [0], 1.5, [1], 0.5, [0], 
          0.5, [3], 0.5, [2], 0.5, [1], 0.5, [3], 1, [1], 
          0.5, [2, 0], 0.5, [3], 1, [0], 0.5, [3, 1], 0.5, [2], 
          1.5, [3], 0.5, [2], 0.5, [1], 0.5, [0], 0.5, [3], 
          0.5, [1], 2, [0], 0.75, [2], 0.25, [3], 5, [2], 
          2, [3], 0.75, [0], 0.25, [1], 5, [3, 0], 2, [1, 0], 
          2, [2, 1], 2, [2, 0], 2, [3, 1], 2, [2, 1], 2, [3, 0], 
          2, [3, 2], 2, [1, 0], 2, [3, 1], 2, [2, 0], 2, [2, 1], 
          2, [3, 0], 2, [2, 0], 2, [2, 1], 2, [3, 2], 2, [4], 
          1, [3], 0.5, [2, 0], 0.5, [1], 1, [2], 0.5, [3, 1], 
          0.5, [0], 1.5, [1], 0.5, [0], 0.5, [3], 0.5, [2], 
          0.5, [1], 0.5, [3], 1, [1], 0.5, [2, 0], 0.5, [3], 
          1, [0], 0.5, [3, 1], 0.5, [2], 1.5, [3], 0.5, [2], 
          0.5, [1], 0.5, [0], 0.5, [3], 0.5, [1], 2, [0], 
          0.75, [2], 0.25, [3], 5, [2], 2, [3], 0.75, [0], 
          0.25, [1], 5, [4], 1, [3], 0.5, [2, 0], 0.5, [1], 
          1, [2], 0.5, [3, 1], 0.5, [0], 1.5, [1], 0.5, [0], 
          0.5, [3], 0.5, [2], 0.5, [1], 0.5, [3], 1, [1], 
          0.5, [2, 0], 0.5, [3], 1, [0], 0.5, [3, 1], 0.5, [2], 
          1.5, [3], 0.5, [2], 0.5, [1], 0.5, [0], 0.5, [3], 
          1.5, [3], 0.5, [2, 0], 0.5, [1], 1, [2], 0.5, [3, 1], 
          0.5, [0], 1.5, [1], 0.5, [0], 0.5, [3], 0.5, [2], 
          0.5, [1], 0.5, [3], 1, [1], 0.5, [2, 0], 0.5, [3], 
          1, [0], 0.5, [3, 1], 0.5, [2], 1.5, [3], 0.5, [2], 
          0.5, [1], 1.5, [4]
        ]
      ],
      [ "Jump Around", Assets.jump_around, 125,
        [ 
          7.25, [0, 1], 1.35417, [3, 2], 1.52083, [3, 2, 1, 0], 3.64583, [0], 1.125, [1], 
          1.11458, [2], 1.125, [3], 1.125, [0], 1.11458, [1], 1.10417, [2], 
          1.11458, [3], 1.11458, [2, 0], 1.125, [3, 1], 1.125, [2, 0], 1.13542, [3, 1], 
          1.125, [2, 0], 1.125, [3, 1], 1.125, [2, 0], 1.13542, [3, 1], 1.125, [3], 
          1.125, [2], 1.125, [1], 1.125, [0], 1.125, [3], 1.11458, [2], 
          1.125, [1], 1.125, [0], 1.125, [3, 1], 1.11458, [2, 0], 1.125, [3, 1], 
          1.11458, [2, 0], 1.125, [3, 1], 1.11458, [2, 0], 3.375, [3, 2, 1, 0], 2.80208, [3, 1], 
          0.5625, [2, 0], 1.125, [2, 0], 1.125, [3, 1], 1.6875, [2, 0], 0.552083, [3, 1], 
          1.125, [3, 1], 1.6875, [3, 1], 0.5625, [2, 0], 1.6875, [3, 1], 0.552083, [2, 0], 
          2.22917, [3, 2, 1, 0], 2.22917, [1, 0], 1.125, [3, 2], 1.13542, [1, 0], 1.13542, [3, 2], 
          1.125, [1, 0], 1.11458, [3, 2], 1.11458, [1, 0], 1.11458, [3, 2], 1.11458, [0], 
          1.11458, [2], 1.11458, [1], 1.11458, [3], 1.11458, [2], 1.125, [0], 
          1.125, [1], 1.13542, [3], 1.125, [2, 0], 1.125, [1], 1.13542, [3], 
          1.125, [2, 0], 1.13542, [3, 1], 1.11458, [0], 1.125, [2], 1.11458, [3, 1], 
          1.125, [2, 0], 1.11458, [1], 1.125, [3], 1.125, [2, 0], 1.125, [3, 1], 
          1.125, [0], 1.125, [2], 1.125, [3, 1], 1.11458, [0], 1.125, [1], 
          1.125, [2], 1.125, [3], 1.125, [1, 0], 1.125, [3, 2], 3.36458, [3, 2, 1, 0], 
          4.5, [3, 2, 1, 0], 4.47917, [3, 2, 1, 0], 3.92708, [0], 0.5625, [3], 0.5625, [1], 
          0.270833, [2], 0.5625, [0], 0.28125, [3], 0.5625, [1], 2.23958, [1, 0], 
          1.11458, [3, 2], 1.11458, [1, 0], 1.11458, [3, 2], 1.10417, [1, 0], 1.13542, [3, 2], 
          1.13542, [1, 0], 1.125, [3, 2], 1.13542, [1, 0], 1.11458, [3, 2], 1.11458, [1, 0], 
          1.11458, [3, 2], 1.10417, [1, 0], 1.13542, [3, 2], 3.39583, [3, 2, 1, 0], 2.8125, [2, 0], 
          0.5625, [3, 1], 1.125, [3, 2, 1, 0], 2.77083, [3, 1], 0.5625, [2, 0], 1.11458, [3], 
          0.5625, [2], 0.572917, [1], 0.5625, [0], 0.572917, [3], 0.572917, [2], 
          0.572917, [1], 0.5625, [0], 0.572917, [3], 0.552083, [2], 0.552083, [1], 
          0.552083, [0], 0.552083, [3], 0.552083, [2], 0.552083, [1], 0.552083, [0], 
          0.552083, [3, 2], 1.125, [1, 0], 1.125, [3, 2], 1.125, [1, 0], 1.125, [3, 2], 
          1.13542, [1, 0], 1.13542, [3, 2], 1.13542, [1, 0], 1.13542, [3], 1.10417, [2], 
          1.11458, [1], 1.11458, [0], 3.36458, [3, 2, 1, 0], 2.25, [3, 2, 1, 0], 2.82292, [3, 1], 
          0.572917, [2, 0], 1.125, [3, 2, 1, 0], 2.80208, [2, 0], 0.552083, [3, 1], 1.125, [2, 0], 
          1.11458, [3, 1], 1.67708, [2, 0], 0.5625, [3, 1], 1.125, [2, 0], 1.11458, [3, 1], 
          1.66667, [2, 0], 0.5625, [3, 1], 1.11458, [1, 0], 1.13542, [3, 2], 1.69792, [1, 0], 
          0.5625, [3, 2], 1.13542, [1, 0], 2.20833, [3, 2], 2.23958, [0], 0.5625, [1], 
          0.572917, [2], 0.5625, [3], 0.5625, [0], 0.572917, [1], 0.5625, [2], 
          0.5625, [3], 0.5625, [0], 0.552083, [1], 0.5625, [2], 0.5625, [3], 
          0.5625, [0], 0.5625, [1], 0.552083, [2], 0.572917, [3], 0.5625, [0], 
          0.5625, [1], 0.5625, [2], 0.552083, [3], 2.22917, [0], 0.5625, [3], 
          0.5625, [1], 0.28125, [2], 0.552083, [0], 0.28125, [3], 0.5625, [1], 
          2.25, [3, 1], 1.125, [2, 0], 1.11458, [3, 1], 1.125, [2, 0], 1.125, [3, 1], 
          1.125, [2, 0], 1.125, [3, 1], 1.125, [2, 0], 1.125, [3, 1], 1.13542, [2, 0], 
          1.125, [3, 1], 1.125, [2, 0], 1.09375, [3, 1], 1.125, [2, 0], 1.13542, [3, 1], 
          1.125, [2, 0], 1.10417, [3], 0.5625, [1], 0.5625, [2], 0.5625, [0], 
          0.5625, [3], 0.552083, [1], 0.5625, [2], 0.5625, [0], 0.5625, [3, 1], 
          1.125, [2, 0], 1.13542, [3, 1], 1.13542, [2, 0], 1.09375, [3], 0.5625, [1], 
          0.572917, [2], 0.5625, [0], 0.5625, [3], 0.5625, [1], 0.5625, [2], 
          0.552083, [0], 0.552083, [3, 1], 1.125, [2, 0], 3.36458, [3, 2, 1, 0], 2.8125, [3, 1], 
          0.5625, [2, 0], 1.125, [2, 0], 1.11458, [3, 1], 1.6875, [2, 0], 0.5625, [3, 1], 
          1.125, [3, 1], 1.67708, [3, 1], 0.5625, [2, 0], 1.67708, [3, 1], 0.552083, [2, 0], 
          2.26042, [3, 2, 1, 0], 2.25, [1, 0], 1.125, [3, 2], 1.125, [1, 0], 1.13542, [3, 2], 
          1.125, [1, 0], 1.125, [3, 2], 1.125, [1, 0], 1.125, [3, 2], 1.125, [0], 
          1.125, [2], 1.11458, [1], 1.11458, [3], 1.125, [2], 1.11458, [0], 
          1.11458, [1], 1.125, [3], 1.11458, [2, 0], 1.125, [1], 1.125, [3], 
          1.13542, [2, 0], 1.125, [3, 1], 1.13542, [0], 1.125, [2], 1.125, [3, 1], 
          1.13542, [2, 0], 1.11458, [1], 1.125, [3], 1.11458, [2, 0], 5.625, [3, 2, 1, 0], 
          4.47917, [3, 2, 1, 0], 4.47917, [3, 2, 1, 0], 3.91667, [0], 0.5625, [3], 0.5625, [1], 
          0.28125, [2], 0.552083, [0], 0.28125, [3], 0.5625, [1], 2.23958, [1, 0], 
          1.125, [3, 2], 1.11458, [1, 0], 1.125, [3, 2], 1.11458, [1, 0], 1.125, [3, 2], 
          1.125, [1, 0], 1.125, [3, 2], 1.125, [1, 0], 1.125, [3, 2], 1.125, [1, 0], 
          1.125, [3, 2], 1.125, [1, 0], 1.11458, [3, 2], 3.33333, [3, 2, 1, 0], 2.25, [3, 1], 
          0.5625, [2, 0], 1.6875, [3, 2, 1, 0], 2.25, [2, 0], 0.5625, [3, 1], 1.69792, [3, 2, 1, 0], 
          2.27083, [3, 1], 0.5625, [2, 0], 1.70833, [3, 2, 1, 0], 4.4375, [3, 2, 1, 0], 2.27083, [3, 1], 
          0.552083, [2, 0], 1.70833, [3, 2, 1, 0], 2.22917, [2, 0], 0.552083, [3, 1], 1.65625, [3, 2, 1, 0], 
          2.27083, [3, 1], 0.5625, [2, 0], 1.69792, [3, 2, 1, 0], 2.23958, [2, 0], 0.552083, [3, 1], 
          1.67708, [3, 2, 1, 0], 2.23958, [3, 1], 0.5625, [2, 0], 1.67708, [3, 2, 1, 0], 2.27083, [2, 0], 
          0.5625, [3, 1], 1.69792, [3, 2, 1, 0], 2.22917, [3, 1], 0.552083, [2, 0], 1.67708, [3, 2, 1, 0], 
          2.26042, [2, 0], 0.572917, [3, 1], 1.69792, [3, 2, 1, 0]
        ],
      ],
      [ "Electro", Assets.electro, 125,
        [ 
          8.5, [0], 0.5, [2, 1], 1, [3], 0.5, [0], 0.5, [2, 1], 1, [3], 
          0.5, [0], 0.5, [2, 1], 1, [3], 0.75, [0], 0.25, [2, 1], 
          0.5, [3], 0.5, [0], 1, [2], 0.5, [1], 1, [3], 
          1, [0], 2, [2], 0.5, [1], 0.5, [3], 0.5, [0], 
          0.5, [2], 0.5, [1], 1.5, [3], 0.5, [0], 0.5, [2], 
          1, [1], 1, [3], 1, [0], 0.5, [2], 1, [1], 
          0.5, [3], 0.5, [0], 1.5, [2], 0.5, [1], 0.5, [3], 
          1, [0], 1, [2], 1, [1], 0.5, [3], 1, [0], 
          0.5, [2], 0.5, [1], 1.5, [3], 0.5, [0], 0.5, [2], 
          1, [1], 1, [3], 1, [0], 0.5, [2], 1, [1], 
          0.5, [3], 0.5, [0], 0.5, [2], 0.5, [1], 0.5, [3], 
          0.5, [0], 0.5, [2], 0.5, [1], 0.5, [3], 2, [0], 
          2.5, [2], 0.5, [1], 0.5, [3], 0.5, [0], 0.5, [2], 
          0.5, [1], 0.5, [3], 0.5, [0], 2, [2], 2.5, [1], 
          0.5, [3], 0.5, [0], 0.5, [2], 0.5, [1], 0.5, [3], 
          0.5, [0], 0.5, [2], 2, [1], 2.5, [3], 0.5, [0], 
          0.5, [2], 0.5, [1], 0.5, [3], 0.5, [0], 0.5, [2], 
          0.5, [1], 2, [3], 2.5, [0], 0.5, [2], 0.5, [1], 
          0.5, [3], 0.5, [0], 0.5, [2], 0.5, [1], 0.5, [3], 
          2, [0], 2.5, [2], 0.5, [1], 0.5, [3], 0.5, [0], 
          0.5, [2], 0.5, [1], 0.5, [3], 0.5, [0], 2, [2], 
          2.5, [4], 2, [0], 2, [1], 0.666667, [0], 0.666667, [1], 
          2.66667, [3, 0], 0.666667, [1], 0.666667, [0], 0.666667, [2], 2, [3], 
          0.666667, [2], 0.666667, [3], 2.66667, [2, 0], 0.666667, [3], 0.666667, [2], 
          0.666667, [1], 2, [0], 0.666667, [1], 0.666667, [0], 2.66667, [2, 1], 
          0.666667, [0], 0.666667, [1], 0.666667, [3], 2, [2], 0.666667, [3], 
          0.666667, [2], 2.66667, [3, 1], 0.666667, [2], 0.666667, [3], 0.666667, [0], 
          2, [1], 0.666667, [0], 0.666667, [1], 2.66667, [3, 0], 0.666667, [1], 
          0.666667, [0], 0.666667, [2], 2, [3], 0.666667, [2], 0.666667, [3], 
          2.66667, [2, 0], 0.666667, [3], 0.666667, [2], 0.666667, [1], 2, [0], 
          0.666667, [1], 0.666667, [0], 2.66667, [2, 1], 0.666667, [0], 0.666667, [1], 
          0.666667, [3], 2, [2], 0.666667, [3], 0.666667, [2], 2.66667, [4], 
          2, [0], 0.5, [2], 0.5, [1], 0.5, [3], 2, [0], 
          2.5, [2], 0.5, [1], 0.5, [3], 0.5, [0], 0.5, [2], 
          0.5, [1], 0.5, [3], 0.5, [0], 2, [2], 2.5, [1], 
          0.5, [3], 0.5, [0], 0.5, [2], 0.5, [1], 0.5, [3], 
          0.5, [0], 0.5, [2], 2, [1], 2.5, [3], 0.5, [0], 
          0.5, [2], 0.5, [1], 0.5, [3], 0.5, [0], 0.5, [2], 
          0.5, [1], 2, [3], 2.5, [0], 0.5, [2], 0.5, [1], 
          0.5, [3], 0.5, [0], 0.5, [2], 0.5, [1], 0.5, [3], 
          2, [0], 2.5, [2], 0.5, [1], 0.5, [3], 0.5, [0], 
          0.5, [2], 0.5, [1], 0.5, [3], 0.5, [0], 2, [2], 
          2.5, [4], 2, [0], 2, [1], 0.666667, [0], 0.666667, [1], 
          2.66667, [3, 0], 0.666667, [1], 0.666667, [0], 0.666667, [2], 2, [3], 
          0.666667, [2], 0.666667, [3], 2.66667, [2, 0], 0.666667, [3], 0.666667, [2], 
          0.666667, [1], 2, [0], 0.666667, [1], 0.666667, [0], 2.66667, [2, 1], 
          0.666667, [0], 0.666667, [1], 0.666667, [3], 2, [2], 0.666667, [3], 
          0.666667, [2], 2.66667, [3, 1], 0.666667, [2], 0.666667, [3], 0.666667, [0], 
          2, [1], 0.666667, [0], 0.666667, [1], 2.66667, [3, 0], 0.666667, [1], 
          0.666667, [0], 0.666667, [2], 2, [3], 0.666667, [2], 0.666667, [3], 
          2.66667, [2, 0], 0.666667, [3], 0.666667, [2], 0.666667, [1], 2, [0], 
          0.666667, [1], 0.666667, [0], 2.66667, [2, 1], 0.666667, [0], 0.666667, [1], 
          0.666667, [3], 2, [2], 0.666667, [3], 0.666667, [2], 2.66667, [4]
        ]
      ],
      [ "We Will Rock You", Assets.wwry, 85,
        [ 
          4.2, [2], 1, [3], 1, [2], 0.5, [3], 0.5, [2], 1, [1], 
          1, [0], 1, [1], 0.5, [0], 0.5, [1], 1, [3], 
          1, [2], 1, [3], 0.5, [2], 0.5, [3], 1, [0], 
          1, [1], 1, [0], 0.5, [1], 0.5, [0], 1, [2], 
          1, [3], 1, [2], 0.5, [3], 0.5, [2], 1, [4], 
          1, [2, 0], 1, [3, 1], 0.5, [0], 0.5, [1, 2], 1, [3, 0], 
          0.5, [2], 0.5, [1], 1, [0], 0.5, [1], 0.5, [0], 
          1, [4], 1, [2, 0], 1, [3, 1], 0.5, [2], 0.5, [3, 0], 
          1, [1, 2], 0.5, [0], 0.5, [3], 1, [2], 0.5, [3], 
          0.5, [2], 1, [0], 1, [1], 1, [0], 0.5, [1], 
          0.5, [0], 1, [2], 1, [3], 1, [2], 0.5, [3], 
          0.5, [2], 1, [1], 1, [0], 1, [1], 0.5, [0], 
          0.5, [1], 1, [3], 1, [2], 1, [3], 0.5, [2], 
          0.5, [3], 1, [4], 1, [3, 1], 1, [2, 0], 0.5, [3], 
          0.5, [1, 2], 1, [3, 0], 0.5, [1], 0.5, [2], 1, [3], 
          0.5, [2], 0.5, [3], 1, [4], 1, [3, 1], 1, [2, 0], 
          0.5, [1], 0.5, [3, 0], 1, [1, 2], 0.5, [3], 0.5, [0], 
          1, [1], 0.5, [0], 0.5, [1], 1, [0], 1, [1], 
          1, [0], 0.5, [1], 0.5, [0], 1, [2], 1, [3], 
          1, [2], 0.5, [3], 0.5, [2], 1, [1], 1, [0], 
          1, [1], 0.5, [0], 0.5, [1], 1, [3], 1, [2], 
          1, [3], 0.5, [2], 0.5, [3], 1, [4], 1, [2, 0], 
          1, [3, 1], 0.5, [0], 0.5, [1, 2], 1, [3, 0], 0.5, [2], 
          0.5, [1], 1, [0], 0.5, [1], 0.5, [0], 1, [4], 
          1, [2, 0], 1, [3, 1], 0.5, [2], 0.5, [3, 0], 1, [1, 2], 
          0.5, [0], 0.5, [3], 1, [2], 0.5, [3], 0.5, [2], 
          1, [4], 1, [3, 1], 1, [2, 0], 0.5, [3], 0.5, [1, 2], 
          1, [3, 0], 0.5, [1], 0.5, [2], 1, [3], 0.5, [2], 
          0.5, [3], 1, [4], 1, [3, 1], 1, [2, 0], 0.5, [1], 
          0.5, [3, 0], 1, [1, 2], 0.5, [3], 0.5, [0], 1, [1], 
          0.5, [0], 0.5, [1], 1, [0], 1, [1], 1, [0], 
          0.5, [1], 0.5, [0], 1, [2], 1, [3], 1, [2], 
          0.5, [3], 0.5, [2], 1, [0], 1.5, [1], 0.5, [0], 
          1.5, [0], 0.5, [1], 1.5, [0], 0.5, [1], 1.5, [1], 
          0.5, [2], 1.5, [3], 0.5, [2], 1.5, [2], 0.5, [3], 
          1.5, [2], 0.5, [3], 1.5, [3], 0.5, [3, 1], 1.5, [2, 0], 
          0.5, [3, 1], 1.5, [3, 1], 0.5, [2, 0], 1.5, [3, 1], 0.5, [4], 
          2, [4], 2, [4], 2, [4]
        ],
      ],
      [ "Wif", Assets.wif, 151,
        [ 12, [1], 1.5, [0], 0.5, [3], 1, [0, 3], 1, [0], 
          1, [1], 0.5, [3], 1, [1], 0.5, [0], 0.5, [1], 
          0.5, [3], 0.5, [1], 1, [2], 1, [1], 0.5, [0], 
          0.5, [1], 0.5, [0, 1], 1, [3, 2], 1, [0], 0.5, [2], 
          0.5, [3], 0.5, [2], 0.5, [0], 0.5, [1], 0.5, [3], 
          0.5, [2], 1, [3], 0.5, [1], 0.5, [0], 0.5, [0], 
          1, [3], 0.5, [2], 1, [0], 0.5, [1], 0.5, [3], 
          0.5, [2], 0.5, [1], 0.5, [2], 0.5, [0], 1, [0], 
          0.5, [1], 1, [3], 1, [1], 0.5, [3], 0.5, [2], 
          0.5, [3], 0.5, [0], 0.5, [1], 0.5, [3], 1, [2], 
          0.5, [1], 1, [3], 0.5, [0], 0.5, [2], 1, [3, 0], 
          1, [2, 3], 2.5, [2, 0], 1.5, [3, 1], 1, [0, 3], 2, [2, 0], 
          1.5, [3, 1], 1.5, [1, 0], 0.5, [2, 3], 1.5, [0, 1], 1.5, [3, 1], 
          1.5, [0, 2], 1, [1, 3], 1.5, [0], 0.5, [3, 2], 1, [0, 3], 
          1, [3, 0], 1, [1, 0], 1, [3], 0.5, [2, 0], 1.5, [3, 1], 
          1, [0, 2], 2, [2, 3], 1, [2], 0.5, [2, 0], 1.5, [0, 3], 
          1, [3, 1], 1, [1, 3], 1, [3], 1, [1, 0], 1, [2, 0], 
          1, [2, 0], 1, [3], 1, [3, 2], 1, [3, 1], 1, [3, 1], 
          1, [1], 1, [3, 0], 1, [0, 2], 1, [0, 2], 1, [0], 
          1, [2, 3], 0.5, [0], 0.5, [3], 0.5, [0], 0.5, [2], 
          0.5, [1], 0.5, [2], 0.5, [2, 0], 1, [1], 0.5, [3], 
          0.5, [1], 0.5, [0], 0.5, [2], 0.5, [0], 0.5, [3, 1], 
          1, [3], 0.5, [2], 0.5, [3], 0.5, [0], 0.5, [1], 
          0.5, [0], 0.5, [0, 1], 1, [1], 0.5, [2], 0.5, [1], 
          0.5, [3], 0.5, [0], 0.75, [2], 0.75, [0], 0.5, [0], 
          1, [1], 0.5, [3], 1, [1], 0.5, [0], 0.5, [1], 
          0.5, [3], 0.5, [1], 1, [2], 1, [1], 0.5, [0], 
          0.5, [1], 0.5, [0, 1], 1, [3, 2], 1, [0], 0.5, [2], 
          0.5, [3], 0.5, [2], 0.5, [0], 0.5, [1], 0.5, [3], 
          0.5, [2], 1, [3], 0.5, [1], 0.5, [0], 0.5, [0], 
          1, [3], 0.5, [2], 1, [0], 0.5, [1], 0.5, [3], 
          0.5, [2], 0.5, [1], 0.5, [2], 0.5, [0], 1, [0], 
          0.5, [1], 1, [3], 1, [1], 0.5, [3], 0.5, [2], 
          0.5, [3], 0.5, [0], 0.5, [1], 0.5, [3], 1, [2], 
          0.5, [1], 1, [3], 0.5, [0], 0.5, [2], 0.5, [0], 
          1, [1], 0.5, [3], 1, [1], 0.5, [0], 0.5, [1], 
          0.5, [3], 0.5, [1], 1, [2], 1, [1], 0.5, [0], 
          0.5, [1], 0.5, [0, 1], 1, [3, 2], 1, [0], 0.5, [2], 
          0.5, [3], 0.5, [2], 0.5, [0], 0.5, [1], 0.5, [3], 
          0.5, [2], 1, [3], 0.5, [1], 0.5, [0], 0.5, [0], 
          1, [3], 0.5, [2], 1, [0], 0.5, [1], 0.5, [3], 
          0.5, [2], 0.5, [1], 0.5, [2], 0.5, [0], 1, [0], 
          0.5, [1], 1, [0], 0.5, [0], 0.5, [0], 0.5, [1], 
          0.5, [3], 0.5, [1], 0.5, [0], 0.5, [1], 0.5, [2], 
          0.5, [2], 0.5, [2], 0.5, [3], 0.5, [1], 0.5, [0], 
          0.5, [1], 0.5, [3], 0.5, [0, 3]
        ],
      ],
    ];
    
    private var selected:int = 0;
    private var frames:int = 0;
  
    public function Menu() 
    {
    }
    
    override public function tick():void
    {
      frames++;
      
      if(!MusicHandler.current_music ||
         MusicHandler.current_music.music != songs[selected][1])
      {
        MusicHandler.play(songs[selected][1]);
        MusicHandler.current_music.channel.setVolume(0.5);
      }
      super.tick();
      for each(var key:int in input.keys_down)
      {
        var direction:int = Stomper.directionFromKey(key);
        if(direction==0) selected--;
        if(direction==3) selected++;
        if(direction==1 || direction==2) 
        {
          MusicHandler.current_music.stop(0);
          Main.replaceTopState(new Stomper(
            songs[selected][3], songs[selected][1], songs[selected][2]));
        }
        if(selected < 0) selected = songs.length-1;
        if(selected > songs.length-1) selected = 0;
      }
    }
    
    override public function draw():void
    {
      super.draw();
      var text:Bitmap = Text.render(songs[selected][0]);
      var m:Matrix = new Matrix();
      m.translate(-text.width/2, -text.height/2);
      m.rotate(Math.PI/4);
      m.translate(400, 400);
      Display.screen.bitmapData.draw(text, m);
      var pos:Vect2 = Stomper.direction_vectors[0]
        .multiply(Stomper.note_distance_px+Math.abs(Math.sin(frames/10)*8))
        .add(Display.screen_center);
      Assets.arrow.draw(Display.screen, pos.x, pos.y, 0, 1, 1, Math.PI/4);
      pos = Stomper.direction_vectors[3]
        .multiply(Stomper.note_distance_px+Math.abs(Math.sin(frames/10)*8))
        .add(Display.screen_center);
      Assets.arrow.draw(Display.screen, pos.x, pos.y, 0, 1, 1, -Math.PI/4*3);
      text = Text.render("Play!");
      for(var i:int=1; i<=2; i++)
      {
        pos = Stomper.direction_vectors[i].multiply(Stomper.note_distance_px).
          add(Display.screen_center);
        m = new Matrix();
        m.translate(-text.width/2, -text.height/2);
        m.rotate(Math.PI/4);
        if(i==2) m.rotate(Math.PI);
        m.translate(pos.x, pos.y);
        Display.screen.bitmapData.draw(text, m);
      }
    }
  }
}